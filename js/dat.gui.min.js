(function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define([],n):typeof exports=="object"?exports.dat=n():t.dat=n()})(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(1),i=s(r);t.default=i.default,e.exports=t["default"]},function(e,t,n){"use strict";function M(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(2),i=M(r),s=n(6),o=M(s),u=n(3),a=M(u),f=n(7),l=M(f),c=n(8),h=M(c),p=n(10),d=M(p),v=n(11),m=M(v),g=n(12),y=M(g),b=n(13),w=M(b),E=n(14),S=M(E),x=n(15),T=M(x),N=n(16),C=M(N),k=n(9),L=M(k),A=n(17),O=M(A);t.default={color:{Color:i.default,math:o.default,interpret:a.default},controllers:{Controller:l.default,BooleanController:h.default,OptionController:d.default,StringController:m.default,NumberController:y.default,NumberControllerBox:w.default,NumberControllerSlider:S.default,FunctionController:T.default,ColorController:C.default},dom:{dom:L.default},gui:{GUI:O.default},GUI:O.default},e.exports=t["default"]},function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){Object.defineProperty(e,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(p.recalculateRGB(this,t,n),this.__state[t])},set:function(r){this.__state.space!=="RGB"&&(p.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=r}})}function v(e,t){Object.defineProperty(e,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(p.recalculateHSV(this),this.__state[t])},set:function(n){this.__state.space!=="HSV"&&(p.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=n}})}t.__esModule=!0;var r=n(3),i=c(r),s=n(6),o=c(s),u=n(4),a=c(u),f=n(5),l=c(f),p=function(){function e(){h(this,e),this.__state=i.default.apply(this,arguments);if(this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return e.prototype.toString=function t(){return(0,a.default)(this)},e.prototype.toHexString=function(){return(0,a.default)(this,!0)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();p.recalculateRGB=function(e,t,n){if(e.__state.space==="HEX")e.__state[t]=o.default.component_from_hex(e.__state.hex,n);else{if(e.__state.space!=="HSV")throw new Error("Corrupted color state");l.default.extend(e.__state,o.default.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},p.recalculateHSV=function(e){var t=o.default.rgb_to_hsv(e.r,e.g,e.b);l.default.extend(e.__state,{s:t.s,v:t.v}),l.default.isNaN(t.h)?l.default.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},p.COMPONENTS=["r","g","b","h","s","v","hex","a"],d(p.prototype,"r",2),d(p.prototype,"g",1),d(p.prototype,"b",0),v(p.prototype,"h"),v(p.prototype,"s"),v(p.prototype,"v"),Object.defineProperty(p.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(p.prototype,"hex",{get:function(){return!this.__state.space!=="HEX"&&(this.__state.hex=o.default.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),t.default=p,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(4),i=u(r),s=n(5),o=u(s),a=[{litmus:o.default.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var n=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return n===null?!1:{space:"HEX",hex:parseInt("0x"+n[1].toString()+n[1].toString()+n[2].toString()+n[2].toString()+n[3].toString()+n[3].toString(),0)}},write:i.default},SIX_CHAR_HEX:{read:function(t){var n=t.match(/^#([A-F0-9]{6})$/i);return n===null?!1:{space:"HEX",hex:parseInt("0x"+n[1].toString(),0)}},write:i.default},CSS_RGB:{read:function(t){var n=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return n===null?!1:{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3])}},write:i.default},CSS_RGBA:{read:function(t){var n=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return n===null?!1:{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(n[4])}},write:i.default}}},{litmus:o.default.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:o.default.isArray,conversions:{RGB_ARRAY:{read:function(t){return t.length!==3?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return t.length!==4?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:o.default.isObject,conversions:{RGBA_OBJ:{read:function(t){return o.default.isNumber(t.r)&&o.default.isNumber(t.g)&&o.default.isNumber(t.b)&&o.default.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return o.default.isNumber(t.r)&&o.default.isNumber(t.g)&&o.default.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return o.default.isNumber(t.h)&&o.default.isNumber(t.s)&&o.default.isNumber(t.v)&&o.default.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return o.default.isNumber(t.h)&&o.default.isNumber(t.s)&&o.default.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],f=void 0,l=void 0,c=function(){l=!1;var t=arguments.length>1?o.default.toArray(arguments):arguments[0];return o.default.each(a,function(e){if(e.litmus(t))return o.default.each(e.conversions,function(e,n){f=e.read(t);if(l===!1&&f!==!1)return l=f,f.conversionName=n,f.conversion=e,o.default.BREAK}),o.default.BREAK}),l};t.default=c,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),i=Math.round(e.g),s=Math.round(e.b),o=e.a,u=Math.round(e.h),a=e.s.toFixed(1),f=e.v.toFixed(1);if(t||n==="THREE_CHAR_HEX"||n==="SIX_CHAR_HEX"){var l=e.hex.toString(16);while(l.length<6)l="0"+l;return"#"+l}return n==="CSS_RGB"?"rgb("+r+","+i+","+s+")":n==="CSS_RGBA"?"rgba("+r+","+i+","+s+","+o+")":n==="HEX"?"0x"+e.hex.toString(16):n==="RGB_ARRAY"?"["+r+","+i+","+s+"]":n==="RGBA_ARRAY"?"["+r+","+i+","+s+","+o+"]":n==="RGB_OBJ"?"{r:"+r+",g:"+i+",b:"+s+"}":n==="RGBA_OBJ"?"{r:"+r+",g:"+i+",b:"+s+",a:"+o+"}":n==="HSV_OBJ"?"{h:"+u+",s:"+a+",v:"+f+"}":n==="HSVA_OBJ"?"{h:"+u+",s:"+a+",v:"+f+",a:"+o+"}":"unknown format"},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=Array.prototype.forEach,r=Array.prototype.slice,i={BREAK:{},extend:function(t){return this.each(r.call(arguments,1),function(e){var n=this.isObject(e)?Object.keys(e):[];n.forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(r.call(arguments,1),function(e){var n=this.isObject(e)?Object.keys(e):[];n.forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=r.call(arguments);return function(){var e=r.call(arguments);for(var n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,r,i){if(!t)return;if(n&&t.forEach&&t.forEach===n)t.forEach(r,i);else if(t.length===t.length+0){var s=void 0,o=void 0;for(s=0,o=t.length;s<o;s++)if(s in t&&r.call(i,t[s],s)===this.BREAK)return}else for(var u in t)if(r.call(i,t[u],u)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,n,r){var i=void 0;return function(){function o(){i=null,r||t.apply(e,s)}var e=this,s=arguments,u=r||!i;clearTimeout(i),i=setTimeout(o,n),u&&t.apply(e,s)}},toArray:function(t){return t.toArray?t.toArray():r.call(t)},isUndefined:function(t){return t===undefined},isNull:function(t){return t===null},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return Object.prototype.toString.call(t)==="[object Function]"}};t.default=i,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=void 0,r={hsv_to_rgb:function(t,n,r){var i=Math.floor(t/60)%6,s=t/60-Math.floor(t/60),o=r*(1-n),u=r*(1-s*n),a=r*(1-(1-s)*n),f=[[r,a,o],[u,r,o],[o,r,a],[o,u,r],[a,o,r],[r,o,u]][i];return{r:f[0]*255,g:f[1]*255,b:f[2]*255}},rgb_to_hsv:function(t,n,r){var i=Math.min(t,n,r),s=Math.max(t,n,r),o=s-i,u=void 0,a=void 0;return s===0?{h:NaN,s:0,v:0}:(a=o/s,t===s?u=(n-r)/o:n===s?u=2+(r-t)/o:u=4+(t-n)/o,u/=6,u<0&&(u+=1),{h:u*360,s:a,v:s/255})},rgb_to_hex:function(t,n,r){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,n),i=this.hex_with_component(i,0,r),i},component_from_hex:function(t,n){return t>>n*8&255},hex_with_component:function(t,r,i){return i<<(n=r*8)|t&~(255<<n)}};t.default=r,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(t,r){n(this,e),this.initialValue=t[r],this.domElement=document.createElement("div"),this.object=t,this.property=r,this.__onChange=undefined,this.__onFinishChange=undefined}return e.prototype.onChange=function(t){return this.__onChange=t,this},e.prototype.onFinishChange=function(t){return this.__onFinishChange=t,this},e.prototype.setValue=function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},e.prototype.getValue=function(){return this.object[this.property]},e.prototype.updateDisplay=function(){return this},e.prototype.isModified=function(){return this.initialValue!==this.getValue()},e}();t.default=r,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(7),i=u(r),s=n(9),o=u(s),c=function(e){function t(n,r){function u(){s.setValue(!s.__prev)}a(this,t);var i=f(this,e.call(this,n,r)),s=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),o.default.bind(i.__checkbox,"change",u,!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return l(t,e),t.prototype.setValue=function(n){var r=e.prototype.setValue.call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),r},t.prototype.updateDisplay=function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),e.prototype.updateDisplay.call(this)},t}(i.default);t.default=c,e.exports=t["default"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function f(e){if(e==="0"||i.default.isUndefined(e))return 0;var t=e.match(a);return i.default.isNull(t)?0:parseFloat(t[1])}t.__esModule=!0;var r=n(5),i=s(r),o={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},u={};i.default.each(o,function(e,t){i.default.each(e,function(e){u[e]=t})});var a=/(\d+(\.\d+)?)px/,l={makeSelectable:function(t,n){if(t===undefined||t.style===undefined)return;t.onselectstart=n?function(){return!1}:function(){},t.style.MozUserSelect=n?"auto":"none",t.style.KhtmlUserSelect=n?"auto":"none",t.unselectable=n?"on":"off"},makeFullscreen:function(t,n,r){var s=r,o=n;i.default.isUndefined(o)&&(o=!0),i.default.isUndefined(s)&&(s=!0),t.style.position="absolute",o&&(t.style.left=0,t.style.right=0),s&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,n,r,s){var o=r||{},a=u[n];if(!a)throw new Error("Event type "+n+" not supported.");var f=document.createEvent(a);switch(a){case"MouseEvents":var l=o.x||o.clientX||0,c=o.y||o.clientY||0;f.initMouseEvent(n,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var h=f.initKeyboardEvent||f.initKeyEvent;i.default.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:undefined,charCode:undefined}),h(n,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:f.initEvent(n,o.bubbles||!1,o.cancelable||!0)}i.default.defaults(f,s),t.dispatchEvent(f)},bind:function(t,n,r,i){var s=i||!1;return t.addEventListener?t.addEventListener(n,r,s):t.attachEvent&&t.attachEvent("on"+n,r),l},unbind:function(t,n,r,i){var s=i||!1;return t.removeEventListener?t.removeEventListener(n,r,s):t.detachEvent&&t.detachEvent("on"+n,r),l},addClass:function(t,n){if(t.className===undefined)t.className=n;else if(t.className!==n){var r=t.className.split(/ +/);r.indexOf(n)===-1&&(r.push(n),t.className=r.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return l},removeClass:function(t,n){if(n)if(t.className===n)t.removeAttribute("class");else{var r=t.className.split(/ +/),i=r.indexOf(n);i!==-1&&(r.splice(i,1),t.className=r.join(" "))}else t.className=undefined;return l},hasClass:function(t,n){return(new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)")).test(t.className)||!1},getWidth:function(t){var n=getComputedStyle(t);return f(n["border-left-width"])+f(n["border-right-width"])+f(n["padding-left"])+f(n["padding-right"])+f(n.width)},getHeight:function(t){var n=getComputedStyle(t);return f(n["border-top-width"])+f(n["border-bottom-width"])+f(n["padding-top"])+f(n["padding-bottom"])+f(n.height)},getOffset:function(t){var n=t,r={left:0,top:0};if(n.offsetParent)do r.left+=n.offsetLeft,r.top+=n.offsetTop,n=n.offsetParent;while(n);return r},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};t.default=l,e.exports=t["default"]},function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(7),i=f(r),s=n(9),o=f(s),u=n(5),a=f(u),p=function(e){function t(n,r,i){l(this,t);var s=c(this,e.call(this,n,r)),u=i,f=s;s.__select=document.createElement("select");if(a.default.isArray(u)){var h={};a.default.each(u,function(e){h[e]=e}),u=h}return a.default.each(u,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),f.__select.appendChild(n)}),s.updateDisplay(),o.default.bind(s.__select,"change",function(){var e=this.options[this.selectedIndex].value;f.setValue(e)}),s.domElement.appendChild(s.__select),s}return h(t,e),t.prototype.setValue=function(n){var r=e.prototype.setValue.call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),r},t.prototype.updateDisplay=function(){return o.default.isActive(this.__select)?this:(this.__select.value=this.getValue(),e.prototype.updateDisplay.call(this))},t}(i.default);t.default=p,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(7),i=u(r),s=n(9),o=u(s),c=function(e){function t(n,r){function u(){s.setValue(s.__input.value)}function l(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}a(this,t);var i=f(this,e.call(this,n,r)),s=i;return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),o.default.bind(i.__input,"keyup",u),o.default.bind(i.__input,"change",u),o.default.bind(i.__input,"blur",l),o.default.bind(i.__input,"keydown",function(e){e.keyCode===13&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return l(t,e),t.prototype.updateDisplay=function(){return o.default.isActive(this.__input)||(this.__input.value=this.getValue()),e.prototype.updateDisplay.call(this)},t}(i.default);t.default=c,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}t.__esModule=!0;var r=n(7),i=u(r),s=n(5),o=u(s),h=function(e){function t(n,r,i){a(this,t);var s=f(this,e.call(this,n,r)),u=i||{};return s.__min=u.min,s.__max=u.max,s.__step=u.step,o.default.isUndefined(s.__step)?s.initialValue===0?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=c(s.__impliedStep),s}return l(t,e),t.prototype.setValue=function(n){var r=n;return this.__min!==undefined&&r<this.__min?r=this.__min:this.__max!==undefined&&r>this.__max&&(r=this.__max),this.__step!==undefined&&r%this.__step!==0&&(r=Math.round(r/this.__step)*this.__step),e.prototype.setValue.call(this,r)},t.prototype.min=function(t){return this.__min=t,this},t.prototype.max=function(t){return this.__max=t,this},t.prototype.step=function(t){return this.__step=t,this.__impliedStep=t,this.__precision=c(t),this},t}(i.default);t.default=h,e.exports=t["default"]},function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}t.__esModule=!0;var r=n(12),i=f(r),s=n(9),o=f(s),u=n(5),a=f(u),d=function(e){function t(n,r,i){function h(){var e=parseFloat(u.__input.value);a.default.isNaN(e)||u.setValue(e)}function p(){u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}function d(){p()}function v(e){var t=f-e.clientY;u.setValue(u.getValue()+t*u.__impliedStep),f=e.clientY}function m(){o.default.unbind(window,"mousemove",v),o.default.unbind(window,"mouseup",m),p()}function g(e){o.default.bind(window,"mousemove",v),o.default.bind(window,"mouseup",m),f=e.clientY}l(this,t);var s=c(this,e.call(this,n,r,i));s.__truncationSuspended=!1;var u=s,f=void 0;return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),o.default.bind(s.__input,"change",h),o.default.bind(s.__input,"blur",d),o.default.bind(s.__input,"mousedown",g),o.default.bind(s.__input,"keydown",function(e){e.keyCode===13&&(u.__truncationSuspended=!0,this.blur(),u.__truncationSuspended=!1,p())}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return h(t,e),t.prototype.updateDisplay=function(){return this.__input.value=this.__truncationSuspended?this.getValue():p(this.getValue(),this.__precision),e.prototype.updateDisplay.call(this)},t}(i.default);t.default=d,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))}t.__esModule=!0;var r=n(12),i=u(r),s=n(9),o=u(s),h=function(e){function t(n,r,i,s,u){function p(e){document.activeElement.blur(),o.default.bind(window,"mousemove",d),o.default.bind(window,"mouseup",v),d(e)}function d(e){e.preventDefault();var t=h.__background.getBoundingClientRect();return h.setValue(c(e.clientX,t.left,t.right,h.__min,h.__max)),!1}function v(){o.default.unbind(window,"mousemove",d),o.default.unbind(window,"mouseup",v),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}a(this,t);var l=f(this,e.call(this,n,r,{min:i,max:s,step:u})),h=l;return l.__background=document.createElement("div"),l.__foreground=document.createElement("div"),o.default.bind(l.__background,"mousedown",p),o.default.addClass(l.__background,"slider"),o.default.addClass(l.__foreground,"slider-fg"),l.updateDisplay(),l.__background.appendChild(l.__foreground),l.domElement.appendChild(l.__background),l}return l(t,e),t.prototype.updateDisplay=function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",e.prototype.updateDisplay.call(this)},t}(i.default);t.default=h,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var r=n(7),i=u(r),s=n(9),o=u(s),c=function(e){function t(n,r,i){a(this,t);var s=f(this,e.call(this,n,r)),u=s;return s.__button=document.createElement("div"),s.__button.innerHTML=i===undefined?"Fire":i,o.default.bind(s.__button,"click",function(e){return e.preventDefault(),u.fire(),!1}),o.default.addClass(s.__button,"button"),s.domElement.appendChild(s.__button),s}return l(t,e),t.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},t}(i.default);t.default=c,e.exports=t["default"]},function(e,t,n){"use strict";function p(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function m(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e,t,n,r){e.style.background="",h.default.each(y,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}function w(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}t.__esModule=!0;var r=n(7),i=p(r),s=n(9),o=p(s),u=n(2),a=p(u),f=n(3),l=p(f),c=n(5),h=p(c),g=function(e){function t(n,r){function f(e){y(e),o.default.bind(window,"mousemove",y),o.default.bind(window,"mouseup",c)}function c(){o.default.unbind(window,"mousemove",y),o.default.unbind(window,"mouseup",c),g()}function p(){var e=(0,l.default)(this.value);e!==!1?(s.__color.__state=e,s.setValue(s.__color.toOriginal())):this.value=s.__color.toString()}function m(){o.default.unbind(window,"mousemove",E),o.default.unbind(window,"mouseup",m),g()}function g(){s.__onFinishChange&&s.__onFinishChange.call(s,s.__color.toOriginal())}function y(e){e.preventDefault();var t=s.__saturation_field.getBoundingClientRect(),n=(e.clientX-t.left)/(t.right-t.left),r=1-(e.clientY-t.top)/(t.bottom-t.top);return r>1?r=1:r<0&&(r=0),n>1?n=1:n<0&&(n=0),s.__color.v=r,s.__color.s=n,s.setValue(s.__color.toOriginal()),!1}function E(e){e.preventDefault();var t=s.__hue_field.getBoundingClientRect(),n=1-(e.clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),s.__color.h=n*360,s.setValue(s.__color.toOriginal()),!1}d(this,t);var i=v(this,e.call(this,n,r));i.__color=new a.default(i.getValue()),i.__temp=new a.default(0);var s=i;i.domElement=document.createElement("div"),o.default.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",o.default.bind(i.__input,"keydown",function(e){e.keyCode===13&&p.call(this)}),o.default.bind(i.__input,"blur",p),o.default.bind(i.__selector,"mousedown",function(){o.default.addClass(this,"drag").bind(window,"mouseup",function(){o.default.removeClass(s.__selector,"drag")})});var u=document.createElement("div");return h.default.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),h.default.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),h.default.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),h.default.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),h.default.extend(u.style,{width:"100%",height:"100%",background:"none"}),b(u,"top","rgba(0,0,0,0)","#000"),h.default.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),w(i.__hue_field),h.default.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),o.default.bind(i.__saturation_field,"mousedown",f),o.default.bind(i.__field_knob,"mousedown",f),o.default.bind(i.__hue_field,"mousedown",function(e){E(e),o.default.bind(window,"mousemove",E),o.default.bind(window,"mouseup",m)}),i.__saturation_field.appendChild(u),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay(),i}return m(t,e),t.prototype.updateDisplay=function(){var t=(0,l.default)(this.getValue());if(t!==!1){var n=!1;h.default.each(a.default.COMPONENTS,function(e){if(!h.default.isUndefined(t[e])&&!h.default.isUndefined(this.__color.__state[e])&&t[e]!==this.__color.__state[e])return n=!0,{}},this),n&&h.default.extend(this.__color.__state,t)}h.default.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var r=this.__color.v<.5||this.__color.s>.5?255:0,i=255-r;h.default.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,b(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),h.default.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})},t}(i.default),y=["-moz-","-o-","-webkit-","-ms-",""];t.default=g,e.exports=t["default"]},function(e,t,n){"use strict";function _(e){return e&&e.__esModule?e:{"default":e}}function W(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function X(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];t?n.innerHTML=n.value+"*":n.innerHTML=n.value}function V(e,t,n){n.__li=t,n.__gui=e,A.default.extend(n,{options:function(r){if(arguments.length>1){var i=n.__li.nextElementSibling;return n.remove(),J(e,n.object,n.property,{before:i,factoryArgs:[A.default.toArray(arguments)]})}if(A.default.isArray(r)||A.default.isObject(r)){var s=n.__li.nextElementSibling;return n.remove(),J(e,n.object,n.property,{before:s,factoryArgs:[r]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}});if(n instanceof b.default){var r=new g.default(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});A.default.each(["updateDisplay","onChange","onFinishChange","step"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(r,e),t.apply(n,e)}}),k.default.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof g.default){var i=function(r){if(A.default.isNumber(n.__min)&&A.default.isNumber(n.__max)){var i=n.__li.firstElementChild.firstElementChild.innerHTML,s=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=J(e,n.object,n.property,{before:n
.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(i),s&&o.listen(),o}return r};n.min=A.default.compose(i,n.min),n.max=A.default.compose(i,n.max)}else n instanceof p.default?(k.default.bind(t,"click",function(){k.default.fakeEvent(n.__checkbox,"click")}),k.default.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof v.default?(k.default.bind(t,"click",function(){k.default.fakeEvent(n.__button,"click")}),k.default.bind(t,"mouseover",function(){k.default.addClass(n.__button,"hover")}),k.default.bind(t,"mouseout",function(){k.default.removeClass(n.__button,"hover")})):n instanceof E.default&&(k.default.addClass(t,"color"),n.updateDisplay=A.default.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=A.default.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&X(e.getRoot(),!0),t},n.setValue)}function $(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(r!==-1){var i=n.__rememberedObjectIndecesToControllers[r];i===undefined&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[t.property]=t;if(n.load&&n.load.remembered){var s=n.load.remembered,o=void 0;if(s[e.preset])o=s[e.preset];else{if(!s[B])return;o=s[B]}if(o[r]&&o[r][t.property]!==undefined){var u=o[r][t.property];t.initialValue=u,t.setValue(u)}}}}function J(e,t,n,i){if(t[n]===undefined)throw new Error('Object "'+t+'" has no property "'+n+'"');var s=void 0;if(i.color)s=new E.default(t,n);else{var o=[t,n].concat(i.factoryArgs);s=f.default.apply(e,o)}i.before instanceof c.default&&(i.before=i.before.__li),$(e,s),k.default.addClass(s.domElement,"c");var u=document.createElement("span");k.default.addClass(u,"property-name"),u.innerHTML=s.property;var a=document.createElement("div");a.appendChild(u),a.appendChild(s.domElement);var l=W(e,a,i.before);return k.default.addClass(l,z.CLASS_CONTROLLER_ROW),s instanceof E.default?k.default.addClass(l,"color"):k.default.addClass(l,r(s.getValue())),V(e,l,s),e.__controllers.push(s),s}function K(e,t){return document.location.href+"."+t}function Q(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function G(e,t){t.style.display=e.useLocalStorage?"block":"none"}function Y(e){var t=e.__save_row=document.createElement("li");k.default.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),k.default.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",k.default.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",k.default.addClass(r,"button"),k.default.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",k.default.addClass(i,"button"),k.default.addClass(i,"save-as");var s=document.createElement("span");s.innerHTML="Revert",k.default.addClass(s,"button"),k.default.addClass(s,"revert");var o=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?A.default.each(e.load.remembered,function(t,n){Q(e,n,n===e.preset)}):Q(e,B,!1),k.default.bind(o,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(s);if(j){var u=document.getElementById("dg-local-explain"),a=document.getElementById("dg-local-storage"),f=document.getElementById("dg-save-locally");f.style.display="block",localStorage.getItem(K(e,"isLocal"))==="true"&&a.setAttribute("checked","checked"),G(e,u),k.default.bind(a,"change",function(){e.useLocalStorage=!e.useLocalStorage,G(e,u)})}var l=document.getElementById("dg-new-constructor");k.default.bind(l,"keydown",function(e){e.metaKey&&(e.which===67||e.keyCode===67)&&F.hide()}),k.default.bind(n,"click",function(){l.innerHTML=JSON.stringify(e.getSaveObject(),undefined,2),F.show(),l.focus(),l.select()}),k.default.bind(r,"click",function(){e.save()}),k.default.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),k.default.bind(s,"click",function(){e.revert()})}function Z(e){function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){k.default.removeClass(e.__closeButton,z.CLASS_DRAG),k.default.unbind(window,"mousemove",n),k.default.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),t=i.clientX,k.default.addClass(e.__closeButton,z.CLASS_DRAG),k.default.bind(window,"mousemove",n),k.default.bind(window,"mouseup",r),!1}var t=void 0;e.__resize_handle=document.createElement("div"),A.default.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),k.default.bind(e.__resize_handle,"mousedown",i),k.default.bind(e.__closeButton,"mousedown",i),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function et(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function tt(e,t){var n={};return A.default.each(e.__rememberedObjects,function(r,i){var s={},o=e.__rememberedObjectIndecesToControllers[i];A.default.each(o,function(e,n){s[n]=t?e.initialValue:e.getValue()}),n[i]=s}),n}function nt(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function rt(e){e.length!==0&&x.default.call(window,function(){rt(e)}),A.default.each(e,function(e){e.updateDisplay()})}t.__esModule=!0;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(18),s=_(i),o=n(19),u=_(o),a=n(20),f=_(a),l=n(7),c=_(l),h=n(8),p=_(h),d=n(15),v=_(d),m=n(13),g=_(m),y=n(14),b=_(y),w=n(16),E=_(w),S=n(21),x=_(S),T=n(22),N=_(T),C=n(9),k=_(C),L=n(5),A=_(L),O=n(23),M=_(O);s.default.inject(M.default);var D="dg",P=72,H=20,B="Default",j=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return!1}}(),F=void 0,I=!0,q=void 0,R=!1,U=[],z=function it(e){function f(){var e=t.getRoot();e.width+=1,A.default.defer(function(){e.width-=1})}var t=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),k.default.addClass(this.domElement,D),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=A.default.defaults(n,{closeOnTop:!1,autoPlace:!0,width:it.DEFAULT_WIDTH}),n=A.default.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),A.default.isUndefined(n.load)?n.load={preset:B}:n.preset&&(n.load.preset=n.preset),A.default.isUndefined(n.parent)&&n.hideable&&U.push(this),n.resizable=A.default.isUndefined(n.parent)&&n.resizable,n.autoPlace&&A.default.isUndefined(n.scrollable)&&(n.scrollable=!0);var r=j&&localStorage.getItem(K(this,"isLocal"))==="true",i=void 0;Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return t.parent?t.getRoot().preset:n.load.preset},set:function(r){t.parent?t.getRoot().preset=r:n.load.preset=r,nt(this),t.revert()}},width:{get:function(){return n.width},set:function(r){n.width=r,et(t,r)}},name:{get:function(){return n.name},set:function(t){n.name=t,titleRowName&&(titleRowName.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(r){n.closed=r,n.closed?k.default.addClass(t.__ul,it.CLASS_CLOSED):k.default.removeClass(t.__ul,it.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=r?it.TEXT_OPEN:it.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return r},set:function(n){j&&(r=n,n?k.default.bind(window,"unload",i):k.default.unbind(window,"unload",i),localStorage.setItem(K(t,"isLocal"),n))}}});if(A.default.isUndefined(n.parent)){n.closed=!1,k.default.addClass(this.domElement,it.CLASS_MAIN),k.default.makeSelectable(this.domElement,!1);if(j&&r){t.useLocalStorage=!0;var s=localStorage.getItem(K(this,"gui"));s&&(n.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=it.TEXT_CLOSED,k.default.addClass(this.__closeButton,it.CLASS_CLOSE_BUTTON),n.closeOnTop?(k.default.addClass(this.__closeButton,it.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(k.default.addClass(this.__closeButton,it.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),k.default.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{n.closed===undefined&&(n.closed=!0);var o=document.createTextNode(n.name);k.default.addClass(o,"controller-name");var u=W(t,o),a=function(n){return n.preventDefault(),t.closed=!t.closed,!1};k.default.addClass(this.__ul,it.CLASS_CLOSED),k.default.addClass(u,"title"),k.default.bind(u,"click",a),n.closed||(this.closed=!1)}n.autoPlace&&(A.default.isUndefined(n.parent)&&(I&&(q=document.createElement("div"),k.default.addClass(q,D),k.default.addClass(q,it.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(q),I=!1),q.appendChild(this.domElement),k.default.addClass(this.domElement,it.CLASS_AUTO_PLACE)),this.parent||et(t,n.width)),this.__resizeHandler=function(){t.onResizeDebounced()},k.default.bind(window,"resize",this.__resizeHandler),k.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),k.default.bind(this.__ul,"transitionend",this.__resizeHandler),k.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&Z(this),i=function(){j&&localStorage.getItem(K(t,"isLocal"))==="true"&&localStorage.setItem(K(t,"gui"),JSON.stringify(t.getSaveObject()))},this.saveToLocalStorageIfPossible=i,n.parent||f()};z.toggleHide=function(){R=!R,A.default.each(U,function(e){e.domElement.style.display=R?"none":""})},z.CLASS_AUTO_PLACE="a",z.CLASS_AUTO_PLACE_CONTAINER="ac",z.CLASS_MAIN="main",z.CLASS_CONTROLLER_ROW="cr",z.CLASS_TOO_TALL="taller-than-window",z.CLASS_CLOSED="closed",z.CLASS_CLOSE_BUTTON="close-button",z.CLASS_CLOSE_TOP="close-top",z.CLASS_CLOSE_BOTTOM="close-bottom",z.CLASS_DRAG="drag",z.DEFAULT_WIDTH=245,z.TEXT_CLOSED="Close Controls",z.TEXT_OPEN="Open Controls",z._keydownHandler=function(e){document.activeElement.type!=="text"&&(e.which===P||e.keyCode===P)&&z.toggleHide()},k.default.bind(window,"keydown",z._keydownHandler,!1),A.default.extend(z.prototype,{add:function(t,n){return J(this,t,n,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,n){return J(this,t,n,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var n=this;A.default.defer(function(){n.onResize()})},destroy:function(){this.autoPlace&&q.removeChild(this.domElement),k.default.unbind(window,"keydown",z._keydownHandler,!1),k.default.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&k.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(t){if(this.__folders[t]!==undefined)throw new Error('You already have a folder in this GUI by the name "'+t+'"');var n={name:t,parent:this};n.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(n.closed=this.load.folders[t].closed,n.load=this.load.folders[t]);var r=new z(n);this.__folders[t]=r;var i=W(this,r.domElement);return k.default.addClass(i,"folder"),r},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var n=k.default.getOffset(t.__ul).top,r=0;A.default.each(t.__ul.childNodes,function(e){if(!t.autoPlace||e!==t.__save_row)r+=k.default.getHeight(e)}),window.innerHeight-n-H<r?(k.default.addClass(t.domElement,z.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-n-H+"px"):(k.default.removeClass(t.domElement,z.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&A.default.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:A.default.debounce(function(){this.onResize()},50),remember:function(){A.default.isUndefined(F)&&(F=new N.default,F.domElement.innerHTML=u.default);if(this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;A.default.each(Array.prototype.slice.call(arguments),function(e){t.__rememberedObjects.length===0&&Y(t),t.__rememberedObjects.indexOf(e)===-1&&t.__rememberedObjects.push(e)}),this.autoPlace&&et(this,this.width)},getRoot:function(){var t=this;while(t.parent)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=tt(this)),t.folders={},A.default.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=tt(this),X(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[B]=tt(this,!0)),this.load.remembered[t]=tt(this),this.preset=t,Q(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){A.default.each(this.__controllers,function(e){this.getRoot().load.remembered?$(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),A.default.each(this.__folders,function(e){e.revert(e)}),t||X(this.getRoot(),!1)},listen:function(t){var n=this.__listening.length===0;this.__listening.push(t),n&&rt(this.__listening)},updateDisplay:function(){A.default.each(this.__controllers,function(e){e.updateDisplay()}),A.default.each(this.__folders,function(e){e.updateDisplay()})}}),t.default=z,e.exports=t["default"]},function(e,t){"use strict";e.exports={load:function(t,n){var r=n||document,i=r.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t,r.getElementsByTagName("head")[0].appendChild(i)},inject:function(t,n){var r=n||document,i=document.createElement("style");i.type="text/css",i.innerHTML=t;var s=r.getElementsByTagName("head")[0];try{s.appendChild(i)}catch(o){}}}},function(e,t){e.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},function(e,t,n){"use strict";function g(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(10),i=g(r),s=n(13),o=g(s),u=n(14),a=g(u),f=n(11),l=g(f),c=n(15),h=g(c),p=n(8),d=g(p),v=n(5),m=g(v),y=function(t,n){var r=t[n];if(m.default.isArray(arguments[2])||m.default.isObject(arguments[2]))return new i.default(t,n,arguments[2]);if(m.default.isNumber(r))return m.default.isNumber(arguments[2])&&m.default.isNumber(arguments[3])?m.default.isNumber(arguments[4])?new a.default(t,n,arguments[2],arguments[3],arguments[4]):new a.default(t,n,arguments[2],arguments[3]):m.default.isNumber(arguments[4])?new o.default(t,n,{min:arguments[2],max:arguments[3],step:arguments[4]}):new o.default(t,n,{min:arguments[2],max:arguments[3]});return m.default.isString(r)?new l.default(t,n):m.default.isFunction(r)?new h.default(t,n,""):m.default.isBoolean(r)?new d.default(t,n):null};t.default=y,e.exports=t["default"]},function(e,t){"use strict";function n(e){setTimeout(e,1e3/60)}t.__esModule=!0,t.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n,e.exports=t["default"]},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(9),i=u(r),s=n(5),o=u(s),f=function(){function e(){a(this,e),this.backgroundElement=document.createElement("div"),o.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),i.default.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),o.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;i.default.bind(this.backgroundElement,"click",function(){t.hide()})}return e.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),o.default.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function t(){var e=this,t=function n(){e.domElement.style.display="none",e.backgroundElement.style.display="none",i.default.unbind(e.domElement,"webkitTransitionEnd",n),i.default.unbind(e.domElement,"transitionend",n),i.default.unbind(e.domElement,"oTransitionEnd",n)};i.default.bind(this.domElement,"webkitTransitionEnd",t),i.default.bind(this.domElement,"transitionend",t),i.default.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-i.default.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-i.default.getHeight(this.domElement)/2+"px"},e}();t.default=f,e.exports=t["default"]},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function t(){var e=[];for(var t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){typeof t=="string"&&(t=[[null,t,""]]);var r={};for(var i=0;i<this.length;i++){var s=this[i][0];typeof s=="number"&&(r[s]=!0)}for(i=0;i<t.length;i++){var o=t[i];if(typeof o[0]!="number"||!r[o[0]])n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o)}},e}}])});